PARSED

^-  [@ @]
=+  ^-  $%  {$foo [a=@ b=@]}
            {$bar [x=@]}
            {$baz [f=$-(@ @)]}
        ==
    [%foo 1 2]
?-(+2.+2 %foo [a b], %bar [x x], %baz [(f 1) 2])

SOFT

^-  [@ @]
=+  ^-  $:  ?(%7303014 %7496034 %8020322)
            ^-  $
            ?:  ?=(%"foo" +2)
              [a=@ b=@]
            ?:  ?=(%"bar" +2)
              x=@
            ??  ?=(%"baz" +2)
            f=$-(@ @)
        ==
    [%foo 1 2]
?:  ?=(%"foo" +2.+2)
  [a b]
?:  ?=(%"bar" +2.+2)
  [x x]
??  ?=(%"baz" +2.+2)
[(f 1) 2]

HARD

^-  [@ @]
=+  ^-  $:  ?(%7303014 %7496034 %8020322)
            ^-  $
            ?:  ?=(%"foo" +2)
              [a=@ b=@]
            ?:  ?=(%"bar" +2)
              x=@
            ??  ?=(%"baz" +2)
            ^=  f
            $?  +7
            $|  [$;(@ *) *]
            ++  %  @
            --
        ==
    [%foo 1 2]
?:  ?=(%"foo" +2.+2)
  [a b]
?:  ?=(%"bar" +2.+2)
  [x x]
??  ?=(%"baz" +2.+2)
:-  =+  f
    %.+2(+6 1:+3)
2

CODE

=+  ["foo" 1 2]
?:  ?=(%"foo" +4)
  [+10 +11]
?:  ?=(%"bar" +4)
  [+5 +5]
[(+5 1) 2]

TYPE

[@ @]

BASE

[1 2]
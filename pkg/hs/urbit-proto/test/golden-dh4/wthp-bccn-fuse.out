PARSED

^-  [@ @ @ @]
=+  ^-  $%  {$foo [a=@ b=@]}
            {$bar [x=@]}
            {$baz [f=$-(@ @)]}
        ==
    [%foo 1 2]
?-(+2 [%foo _] [a b 1 2], [%foo x] [a b a.x b.x], [%foo i j] [a b i j], [%bar _] [x 1 2 3], [%bar z] [x z 1 2], [%baz _] [(f 1) 2 3 4], [%baz q] [(f 1) (q 2) 3 4])

SOFT

^-  [@ @ @ @]
=+  ^-  $:  ?(%7303014 %7496034 %8020322)
            ^-  $
            ?:  ?=(%"foo" +2)
              [a=@ b=@]
            ?:  ?=(%"bar" +2)
              x=@
            ??  ?=(%"baz" +2)
            f=$-(@ @)
        ==
    [%foo 1 2]
?:  ?=([%"foo" _] +2)
  [a b 1 2]
?:  ?=([%"foo" x] +2)
  [a b a.x b.x]
?:  ?=([%"foo" i j] +2)
  [a b i j]
?:  ?=([%"bar" _] +2)
  [x 1 2 3]
?:  ?=([%"bar" z] +2)
  [x z 1 2]
?:  ?=([%"baz" _] +2)
  [(f 1) 2 3 4]
??  ?=([%"baz" q] +2)
[(f 1) (q 2) 3 4]

CODE

=+  ["foo" 1 2]
?:  ?=([%"foo" _] +2)
  [+10 +11 1 2]
?:  ?=([%"foo" _] +2)
  [+10 +11 +10 +11]
?:  ?=([%"foo" _] +2)
  [+10 +11 +10 +11]
?:  ?=([%"bar" _] +2)
  [+5 1 2 3]
?:  ?=([%"bar" _] +2)
  [+5 +5 1 2]
?:  ?=([%"baz" _] +2)
  [(+5 1) 2 3 4]
[(+5 1) (+5 2) 3 4]

TYPE

[@ @ @ @]

BASE

[1 2 1 2]
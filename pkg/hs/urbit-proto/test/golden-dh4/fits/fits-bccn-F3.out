PARSED

=/  big
  $%  {$foo [@]}
      {$bar [^]}
      {$baz [*]}
  ==
=/  lit
  $%  {$foo [@]}
      {$bar [[@ @]]}
  ==
`lit``big`[%foo 1]

SOFT

=+  ^=  big
    $:  ?(%7303014 %7496034 %8020322)
        ^-  $
        ?:  ?=(%"foo" +2)
          @
        ?:  ?=(%"bar" +2)
          [* *]
        ??  ?=(%"baz" +2)
        *
    ==
=+  ^=  lit
    $:  ?(%7303014 %7496034)
        ^-  $
        ?:  ?=(%"foo" +2)
          @
        ??  ?=(%"bar" +2)
        [@ @]
    ==
`lit``big`[%foo 1]

HARD

=+  ^=  big
    $:  ?(%7303014 %7496034 %8020322)
        ^-  $
        ?:  ?=(%"foo" +2)
          @
        ?:  ?=(%"bar" +2)
          [* *]
        ??  ?=(%"baz" +2)
        *
    ==
=+  ^=  lit
    $:  ?(%7303014 %7496034)
        ^-  $
        ?:  ?=(%"foo" +2)
          @
        ??  ?=(%"bar" +2)
        [@ @]
    ==
`lit``big`[%foo 1]

ERROR

  trace:  play:
          lvl   0
          sut   0|*
          ----
          code  =+  ^=  big
                    $:  ?(%7303014 %7496034 %8020322)
                        ^-  $
                        ?:  ?=(%"foo" +2)
                          @
                        ?:  ?=(%"bar" +2)
                          [* *]
                        ??  ?=(%"baz" +2)
                        *
                    ==
                =+  ^=  lit
                    $:  ?(%7303014 %7496034)
                        ^-  $
                        ?:  ?=(%"foo" +2)
                          @
                        ??  ?=(%"bar" +2)
                        [@ @]
                    ==
                `lit``big`[%foo 1]


          play:
          lvl   1
          sut   :-  $=  ^=  big
                        $:  ?(%7303014 %7496034 %8020322)
                            ?:  ?=(%"foo" +2)
                              @
                            ?:  ?=(%"bar" +2)
                              [* *]
                            *
                        ==
                    big=$
                0|*

          ----
          code  =+  ^=  lit
                    $:  ?(%7303014 %7496034)
                        ^-  $
                        ?:  ?=(%"foo" +2)
                          @
                        ??  ?=(%"bar" +2)
                        [@ @]
                    ==
                `lit``big`[%foo 1]


          play:
          lvl   2
          sut   :+  $=  ^=  lit
                        $:  ?(%7303014 %7496034)
                            ?:  ?=(%"foo" +2)
                              @
                            [@ @]
                        ==
                    lit=$
                  $=  ^=  big
                      $:  ?(%7303014 %7496034 %8020322)
                          ?:  ?=(%"foo" +2)
                            @
                          ?:  ?=(%"bar" +2)
                            [* *]
                          *
                      ==
                  big=$
                0|*

          ----
          code  `lit``big`[%foo 1]

          work:
          lvl   2
          sut   :+  $=  ^=  lit
                        $:  ?(%7303014 %7496034)
                            ?:  ?=(%"foo" +2)
                              @
                            [@ @]
                        ==
                    lit=$
                  $=  ^=  big
                      $:  ?(%7303014 %7496034 %8020322)
                          ?:  ?=(%"foo" +2)
                            @
                          ?:  ?=(%"bar" +2)
                            [* *]
                          *
                      ==
                  big=$
                0|*

          ----
          mode  cast
          code  `big`[%foo 1]
          type  ^=  lit
                $:  ?(%7303014 %7496034)
                    ?:  ?=(%"foo" +2)
                      @
                    [@ @]
                ==


          cast:
          have  ^=  big
                $:  ?(%7303014 %7496034 %8020322)
                    ?:  ?=(%"foo" +2)
                      @
                    ?:  ?=(%"bar" +2)
                      [* *]
                    *
                ==

          need  ^=  lit
                $:  ?(%7303014 %7496034)
                    ?:  ?=(%"foo" +2)
                      @
                    [@ @]
                ==


          cast:
          have  $:  ?(%7303014 %7496034 %8020322)
                    ?:  ?=(%"foo" +2)
                      @
                    ?:  ?=(%"bar" +2)
                      [* *]
                    *
                ==

          need  ^=  lit
                $:  ?(%7303014 %7496034)
                    ?:  ?=(%"foo" +2)
                      @
                    [@ @]
                ==


          cast:
          have  $:  ?(%7303014 %7496034 %8020322)
                    ?:  ?=(%"foo" +2)
                      @
                    ?:  ?=(%"bar" +2)
                      [* *]
                    *
                ==

          need  $:  ?(%7303014 %7496034)
                    ?:  ?=(%"foo" +2)
                      @
                    [@ @]
                ==


          cast:
          have  ?(%7303014 %7496034 %8020322)
          need  ?(%7303014 %7496034)


  cast-fail:
  have  ?(%7303014 %7496034 %8020322)
  need  ?(%7303014 %7496034)


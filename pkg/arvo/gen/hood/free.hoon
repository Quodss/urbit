::  kiln: grant userspace permissions to a desk
::
:-  %say
|=  $:  [now=@da eny=@uvJ bek=beak]
        [=desk pes=(list perm:gall)]
        [blocking=_| requested=_| all=_| ~]
    ==
:-  %helm-pass
^-  note-arvo
=+  .^(=dome:clay %cx /(scot %p p.bek)//(scot %da now)/domes/(scot %tas desk))
:^  %c  %curb  desk
%.  pes
%~  gas  in
%-  ~(uni in pes.dome)
?:  |(all &(blocking requested))  (~(uni in pin.dome) lac.dome)
?:  blocking                      lac.dome
?:  requested                     pin.dome
*pers:gall
